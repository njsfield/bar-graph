<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bar Graph</title>
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.0.1.css">
    <link href="normalize.css" rel="stylesheet"/>
    <link href="style.css" rel="stylesheet"/>
</head>

<body>



<!-- output -->
<div id="textrazor"></div>





<script>

/* Dummy data */
var results = {
    politics: 0.3,
    social: 0.3,
    culture: 0.42,
    government: 0.143,
    religion: 0.7
};

/* Element to append to */
var container = document.getElementById("textrazor");




/* Builds ul with items in */
function graphBuilder(data, parent){


    /* BEM */
    var blockClass = "graph",
        elementClass = blockClass + "__item",
        modifierClass = ["--green", "--blue", "--yellow", "--pink", "--orange"];

    /* Create ul */
    var ul = document.createElement("ul");
        ul.classList.add(blockClass);


    /* for each data piece */
    for (var prop in data) {

        /* Create element */
        var li = document.createElement("li");
            li.textContent = prop;

        /* convert 0-1 float val to percent */
        var percent = (data[prop] * 100).toFixed(0) + "%";

            li.style.width = percent;
            li.setAttribute("percent", percent);


        /* assign random color modifier */
        var randomColor = modifierClass[Math.floor(Math.random() * modifierClass.length)];

            li.classList.add(elementClass);
            li.classList.add(elementClass + randomColor);

        /* add li to ul */
        ul.appendChild(li);
    }

    /* add to parent */
    parent.appendChild(ul);
}

/* INIT */
graphBuilder(results, container);

</script>

</body>
</html>
